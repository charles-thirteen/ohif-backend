// Refresh Token
model RefreshToken {
  id              String    @id @default(uuid())
  userId          String    @map("user_id")
  token           String    @unique @db.VarChar(500)
  expiresAt       DateTime  @map("expires_at")
  createdAt       DateTime  @map("created_at") @default(now())
  createdByIp     String    @map("created_by_ip") @db.VarChar(100)
  revokedAt       DateTime? @map("revoked_at")
  revokedByIp     String?   @map("revoked_by_ip")
  replacedByToken String?   @map("replaced_by_token")

  user            User      @relation(fields: [userId], references: [id], onDelete: Cascade)       

  @@index([userId], name: "idx_refresh_tokens_user_id")
  @@index([token], name: "idx_refresh_tokens_token")
  @@map("refresh_tokens")
}